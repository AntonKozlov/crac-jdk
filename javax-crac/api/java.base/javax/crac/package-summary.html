<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>javax.crac (Java SE 14 &amp; JDK 14 [ad-hoc build])</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: java.base, package: javax.crac">
<meta name="generator" content="javadoc/PackageWriterImpl">
<meta name="keywords" content="javax.crac package">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="package-declaration">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader"><div style="padding: 6px; text-align: center; font-size: 80%; font-family: DejaVu Sans, Arial, Helvetica, sans-serif; font-weight: normal;">This specification is not final and is subject to change. Use is subject to <a href="https://www.oracle.com/technetwork/java/javase/terms/license/java14speclicense.html">license terms</a>.</div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="../../module-summary.html">Module</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><div style="margin-top: 9px;"><strong>Java SE 14 &amp; JDK 14</strong> <br><strong>DRAFT 14-internal+0-adhoc..jdk</strong></div></div>
</div>
<div class="subNav">
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<div class="header">
<div class="subTitle"><span class="moduleLabelInPackage">Module</span>&nbsp;<a href="../../module-summary.html">java.base</a></div>
<h1 title="Package" class="title">Package&nbsp;javax.crac</h1>
</div>
<div class="contentContainer">
<section class="packageDescription"><a id="package.description">
<!--   -->
</a>
<div class="block">Provides checkpoint/restore service.
 The checkpoint/restore allows to create an image of the current Java Runtime instance and its state.
 New instances then can be created from the image, restoring execution at the checkpoint.
 <p>
 Resources like opened file desriptors and socket cannot be stored in the image, a use of such resource prevents image creation.
 The Java implementation provides best effort to checkpoint for resources which lifecycle is managed by the implementation itself.
 For example, resource may be released for checkpoint and acquired after restore.
 A notification service is provided for external resources which lifecycle is not directly controlled by the implementation.
 <p>
 <a href="Resource.html" title="interface in javax.crac"><code>Resource</code></a> is an interface for receiving checkpoint/restore notifications.
 In order to be notified, <code>Resource</code> needs to be registered in a <a href="Context.html" title="class in javax.crac"><code>Context</code></a>.
 <a href="Core.html" title="class in javax.crac"><code>Core</code></a> is a Java Runtime interface to checkpoint/restore service, it provides the global <code>Context</code> which can be used as default choice.
 The global <code>Context</code> have properties listed below, one can define a custom <code>Context</code> and register it with the global one.
 <code>Core</code> has also a method to initiate checkpoint/restore.
 <p>
 Methods of <code>Resource</code> are invoked as a notification of checkpoint and restore.
 If a <code>Resource</code> is incapable to process notification, corresponding method throws an exception.
 The global <code>Context</code> ensures that exceptions are propagated to a requester of checkpoint/restore.
 <p>
 <code>Context</code> is a <code>Resource</code>, that allows other <code>Resource</code>s to be registered with it.
 <code>Context</code> defines how <code>Resource</code>s are notified and may provide different guarantees compared to the global <code>Context</code>, such as order of notification.
 A class may extend <code>Context</code> and define custom rules of notification processing by overriding <code>Resource</code> method.
 Since a <code>Context</code> may be registered with other <code>Context</code>, they form a <code>Context</code> hierarchy.
 <p>
 Checkpoint/restore is initiated by <code>Core.checkpointRestore</code>.
 Checkpoint notification of the global <code>Context</code> is performed.
 If the global <code>Context</code> have not thrown <code>CheckpointException</code>, the current Java instance is used to create the image in a platform dependent way.
 The current instance is terminated.
 Later, a new instance is created by some means, for example via Java launcher in a special mode.
 The new instance is started at the point where the image was created, it is followed by the restore notification.
 Exceptions from restore notification are provided as suppressed ones by a <code>RestoreException</code> (in a sense of <a href="../../java/lang/Throwable.html#addSuppressed(java.lang.Throwable)"><code>Throwable.addSuppressed(java.lang.Throwable)</code></a>).
 <p>
 If the global <code>Context</code> throws an exception during checkpoint notification then restore notificaion starts immediately without the image creation.
 In this case, exceptions from checkpoint and restore notifications are provided as suppressed ones by <code>CheckpointException</code>.
 <p>
 <code>UnsupportedOperationException</code> is thrown if the service is not supported.
 No notification is performed in this case.
 <h2>Global Context Properties</h2>
 Java Runtime maintains the global <code>Context</code> with following properties.
 An implementor is encouraged to define <code>Context</code> with the properties of the global <code>Context</code>.
 <ul>
 <li>The <code>Context</code> maintains a weak reference to registered <code>Resource</code>.
 </li>
 <li>Order of checkpoint notification is the reverse order of registration.
 Restore notification order is the reverse of checkpoint one, that is, forward order of registration.
 </li>
 <li>For single <code>Resource</code> registered in this <code>Context</code>:
 <ul>
   <li><code>Resource</code> is always notified of checkpoint, regardless of other <code>Resource</code> notifications have thrown an exception or not,
   </li>
   <li><code>Resource</code> is always notified of restore, regardless of its checkpoint or others' restore notification have thrown an exception or not.
   </li>
   <li>When an exception is thrown during notificaion, it is caught by the <code>Context</code> and is suppressed by a <code>CheckpointException</code> or <code>RestoreException</code>, depends on the throwing method.
   </li>
   <li>When the <code>Resource</code> is a <code>Context</code> and it throws <code>CheckpointException</code> or <code>RestoreException</code>, exceptions suppressed by the original exception are suppressed by another <code>CheckpointException</code> or <code>RestoreException</code>, depends on the throwing method.
   </li>
 </ul>
 <li>All exceptions thrown by <code>Resource</code> are suppressed by <code>CheckpointException</code> or <code>RestoreException</code> thrown by the <code>Context</code>.
 </li>
 </ul></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>15</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Resource.html" title="interface in javax.crac">Resource</a></th>
<td class="colLast">
<div class="block">An interface for receiving checkpoint/restore notifications.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Context.html" title="class in javax.crac">Context</a>&lt;R extends <a href="Resource.html" title="interface in javax.crac">Resource</a>&gt;</th>
<td class="colLast">
<div class="block">A <code>Resource</code> that allows other <code>Resource</code>s to be registered with it.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Core.html" title="class in javax.crac">Core</a></th>
<td class="colLast">
<div class="block">Runtime interface to checkpoint/restore service.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CheckpointException.html" title="class in javax.crac">CheckpointException</a></th>
<td class="colLast">
<div class="block">Suppresses exceptions thrown during checkpoint notification.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RestoreException.html" title="class in javax.crac">RestoreException</a></th>
<td class="colLast">
<div class="block">Suppresses exceptions thrown during restore notification.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="../../module-summary.html">Module</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><div style="margin-top: 9px;"><strong>Java SE 14 &amp; JDK 14</strong> <br><strong>DRAFT 14-internal+0-adhoc..jdk</strong></div></div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase14&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples.<br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2020, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/technetwork/java/javase/terms/license/java14speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <br><strong>DRAFT 14-internal+0-adhoc..jdk</strong> <!-- Version 14-internal+0-adhoc..jdk --></small></p>
</footer>
</div>
</div>
</body>
</html>
